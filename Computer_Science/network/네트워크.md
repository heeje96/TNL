# 네트워크

사람: kim heeje
태그: 네트워크

| 용어 | 뜻 |
| --- | --- |
| 대역폭 | 주어진 시간동안 네트워크 연결을 통해 흐룰 수 있는 최대 비트 수 |
| DNS |  |

# 네트워크

컴퓨터 등의 장치들이 통신기술을 이용해 구축하는 연결망

### 좋은 네트워크란?

- 많은 처리량
    - 단위시간당 데이터양 bps(bits per second)
    - 트래픽, 네트워크 장치간의 대역폭, 네트웍 중간의 에러, 장치의 하드웨어스펙
- 짧은 지연시간
    - 매체타입, 패킷크기, 라우터의 패킷처리시간
- 적은 장애빈도
- 좋은 보안

### 네트워크 토폴로지

노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태

병목현상을 찾을 때 중요한 기준이 됨

- 트리
    - 노드의 추가, 삭제가 쉽다.
    - 특정도트에 트래픽이 집중될 때 하위노드에 영향을 끼칠 수 있다.
- 버스
    - LAN에서 사용
    - 설치비용 작음
    - 노드 추가 삭제 쉬움
    - 스푸핑 문제
        - LAN상에서 송신부의 패킷의 기능을 마비시켜 악의적인 노드로 받을 수 있음
- 스타 토폴로지
    - 설치비용 고가
    - 노드 추가 쉬움
    - 에러탐지 쉬움
- 링형
    - 각각의 노드가 양옆의 두 노드랑 연결
    - 구성 변경 어려움
    - 회선의 장애시 전체 네트워크에 영향을 미침
- 메시
    - 한 단말장치에 장애가 발생해도 네트워크를 계속 사용할 수 있음
    - 트래픽 분산처리가능
    - 노드추가 어려움
    - 비용증가

### 네트워크 분류

- WAN (Wide Area Network)
    - 세계규묘
- MAN (Metropolitan Area Network)
    - 도시규모
- LAN (Local Area Network)
    - 사무실 규모
- 규모가 커질 수록 혼잡함

## 네트워크 성능 분석 명령어

---

### 병목현상의 주된 원인

- 네트워크 대역폭
- 네트워크 토폴로지
- 서버 CPU, 메모리 사용량
- 비효율적인 네트워크 구성

### ping

Pacjet INternet Groper

네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어, 이를 통해 해당 노드까지 네트워크가 잘 연결되어있는지 확인가능

### netstat

접속되어있는 서비스들의 네트워크 상태를 표시하는데 사용하는 명령어.

주로 서비스의 포트가 열려있는지 확인할 때 사용

### nslookup

DNS에 관련된 내용을 확인하기 위해 쓰는 명령어.

특정 도메인에 매핑된 IP를 확인하기 위해 사용

### tracert

목적지 노드까지 네트워크 경로를 확인할 때 사용하는 명령어.

어느 구간에서 응답시간이 느려지는지 등을 확인 가능

### 네트워크 프로토콜 표준화

네트워크 프로토콜?

다른 장치들 끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스

IEEE 또는 IETF라는 표준화 단체가 정한다.

- 예를들어, 웹 접속에 쓰이는 HTTP가 있다. 서로 약속된 인터페이스인 HTTP라는 프로토콜을 통해 노드들은 웹서비스를 기반으로 데이터를 주고 받을 수 있다.

## TCP/IP 4계층 모델

---

인터넷 프로토콜 스위트는 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 프로토콜의 집합이다.

이를 TCP/IP 4계층 모델로 설명하거나 OSI 7계층 모델로 설명하기도 한다.

네트워킹 범위에 따라 네개의 추상화 계층으로 구성된다.

### TCP/IP 4계층

- 애플리케이션계층
    - FTP/HTTP/SSH/SMTP/DNS
- 전송계층
    - TCP/UDP/QUIC
- 인터넷 계층
    - IP/ARP/ICMP
- 링크계층
    - 이더넷

### 애플리케이션 계층

- FTP
    - 장치와 장치 간의 파일을 전송하는데 사용되는 표준 통신 프로토콜
- SSH
    - 보안되지 않은 네트워크에서 네트워크를 안전하게 운영하기 위한 암호화 네트워크 프로토콜
- HTTP
    - WORLD WIDE WEB을 위한 데이터 통신의 기초이자 웹사이트를 이용하는데 쓰는 프로토콜
- SMTP
    - 전제 메일 전송을 위한 인터넷 표준 통신 프로토콜
- DNS
    - 도메인 이름과 ip주소를 매핑해주는 서버, 이를 통해 사용자들에게 똑같은 도메인 주소로 서비스 할 수 있다.

### 전송 계층

- 송신자와 수신자를 연결하는 통신서비스를 제공하며 연결지향 데이터 스트림 지원, 신뢰성, 흐름제어를 제공할 수 있으며, 애플리케이션과 인터넷 계층 사이의 데이터가 전달될 때 중계역할을 한다.
- TCP💩
    - 패킷 사이의 순서를 보장하고 연경지향 프로토콜을 사용해서 신뢰성을 구축해서 수신여부 확인하며, “가상회선 패킷 교환방식”을 사용한다.
    - 가상회선 패킷 교환방식은 패킷이 순서대로 도착한다.
- UDP💩
    - 순서를 보장하지 않고 수신여부를 확인하지 않으며 단순히 데이터만 주는 “데이터그램 패킷 교환 방식”을 사용한다.
    - “데이터그램 패킷 교환 방식”은 패킷이 순서대로 도착하지 않는다.

### TCP 연결 성립 과정

- TCP는 신뢰성을 확보할 때 ‘3-웨이 핸드셰이크’라는 작업을 진행한다.
- 연결을 해제할 때는 ‘4-웨이 핸드셰이크’과정이 발생한다.
    - TIME WAIT은
    - 소켓이 바로 소멸되지 않고 일정시간 유지되는 상태를 말하며 지연패킷 등의 문제점을 해결하는데 쓰인다. CentOS6, 우분투는 60초, 윈도우는 4분으로 설정되어있다.

### 인터넷 계층

장치로 부터 받은 네트워크 패킷을 IP주소로 지정된 목적지로 전송하기 위해 사용되는 계층.

IP, ARP, ICMP등이 있으며, 패킷을 수신해야 할 상대의 주소를 지정하여 데이터를 전달한다.

메롱`💩~~~~~~

### 링크계층

전선, 광섬유, 무선 등으로 실질적인 데이터를 전달하고 장치간에 신호를 주고받는 규칙을 정하는 계층.

유선LAN을 다루는 이더넷은 IEEE802.3이라는 프로토콜을 따르며 전이중화 통신을 쓴다.

- 전이중화 통신은 양쪽 장치가 동시에 송수신할 수 있는 방식. 이는 송신로와 수신로로 나눠서 데이터를 주고받으며 현대의 이더넷은 이 방식을 기반으로 통신하고 있습니다.

무선 LAN장치는 반이중화 통신을 사용한다.

- 한번에 한 방향만 통신가능

### 와이파이

전자기기들이 무선 LAN신호에 연결할 수 있게 하는 기술, 무선 접속장치(AP)가 있어야한다(공유기)

### MAC주소

컴퓨터나 노트북 등 각 장치에는 네트워크에 연결하기 위한 장치(LAN카드)가 있는데, 이를 구별하기 위한 식별번호를 말한다.

### 계층 간 데이터 송수신 과정

애플리케이션 계층 → 전송 → 인터넷 → 링크 → 링크 → 인터넷 → 전송 → 애플리

### PDU

네트워크의 어떠한 꼐층에서 계층으로 데이터가 전달 될 때 한 덩어리의 단위를 PDU(Protocol Data Unit)라고 한다.

PDU는 제어 관련 정보들이 포함된 ‘헤더’, 데이터를 의미하는 ‘페이로드’로 구성되어있다.

- 애플리케이션 계층: 메세지
- 전송 계층: 세그먼트(TCP), 데이터 그램(UDP)
- 인터넷 계층: 패킷
- 링크 계층: 프레임(데이터 링크 계층), 비트(물리 계층)

## 네트워크 기기

---

애플리케이션 계층: L7 스위치

인터넷계층: 라우터, L3 스위치

데이터 링크 계층: L2 스위치, 브리지

물리계층: NIC, 리피터, AP

### 라우터

여러개의 네트워크를 연결, 분할, 구분시켜주는 역할을 하며 “다른 네트워크에 존재하는 장치끼리 서로 데이터를 주고받을 때 패킷소모를 최소화하고 경로를 최적화하여 최소 경로로 패킷을 포워딩” 하는 라우팅 장비

[💩](https://www.notion.so/527750aead1e4a20a74bf33fef8151da)